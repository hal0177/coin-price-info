[{"/home/paddy/Code/coin-price-info/src/index.js":"1","/home/paddy/Code/coin-price-info/src/App.js":"2","/home/paddy/Code/coin-price-info/src/components/header.jsx":"3","/home/paddy/Code/coin-price-info/src/components/Coins.js":"4"},{"size":174,"mtime":1608060224190,"results":"5","hashOfConfig":"6"},{"size":637,"mtime":1608061147310,"results":"7","hashOfConfig":"6"},{"size":1107,"mtime":1608061503460,"results":"8","hashOfConfig":"6"},{"size":3447,"mtime":1608051974309,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"qbioef",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"15","messages":"16","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"17","messages":"18","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":"19","usedDeprecatedRules":"12"},"/home/paddy/Code/coin-price-info/src/index.js",[],["20","21"],"/home/paddy/Code/coin-price-info/src/App.js",[],"/home/paddy/Code/coin-price-info/src/components/header.jsx",["22","23","24"],"/home/paddy/Code/coin-price-info/src/components/Coins.js",["25","26","27","28"],"/**\n * Retrieve coin information from exchanges\n */\n\n'use strict';\n\nconst axios = require('axios');\n\nclass Coins {\n  constructor() {\n    console.log(' In Coins constructor');\n    this.pubKey = null;\n    this.coinPriceLatest = [\n      {\n        coin: 'FSN',\n        base: 'USDT',\n        exchange: 'huobipro',\n        url: 'https://api.huobi.pro/market/history/trade?symbol=fsnusdt&size=1',\n        price: null,\n        statsDay: null,\n        statsWeek: null,\n        statsMonth: null,\n        date: null,\n        balance: null,\n        balanceDecimals: 2,\n        priceUSDDecimalPrecision: 3,\n      },\n      {\n        coin: 'BTC',\n        base: 'USDT',\n        exchange: 'binance',\n        url: 'https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT',\n        price: null,\n        statsDay: null,\n        statsWeek: null,\n        statsMonth: null,\n        date: null,\n        balance: null,\n        balanceDecimals: 5,\n        priceUSDDecimalPrecision: 0,\n      },\n      {\n        coin: 'ETH',\n        base: 'USDT',\n        exchange: 'binance',\n        url: 'https://api.binance.com/api/v3/ticker/price?symbol=ETHUSDT',\n        price: null,\n        statsDay: null,\n        statsWeek: null,\n        statsMonth: null,\n        date: null,\n        balance: null,\n        balanceDecimals: 3,\n        priceUSDDecimalPrecision: 2,\n      },\n    ];\n  }\n\n  getCoinPrices = async () => {\n    //console.log('In getCoinPrices');\n    for (var ii = 0; ii < this.coinPriceLatest.length; ii++) {\n      var ticker = this.coinPriceLatest[ii];\n      //console.log('In getCoinPrices, pubKey = ' + this.pubKey + ' coin = ' + ticker.coin);\n      \n\n      if (ticker.exchange === 'binance') {\n        // e.g. {\"symbol\":\"WPRBTC\",\"price\":\"0.00000083\"}\n        await axios\n          .get(ticker.url)\n          .then(spot => {\n            // console.log(ticker.exchange);\n            // console.log(ticker.coin);\n            // console.log(ticker.base);\n            // console.log(spot.headers.date);\n            // console.log(spot.data.price + '\\n\\n');\n            ticker.price = spot.data.price;\n            ticker.date = spot.headers.date;\n            this.coinPriceLatest[ii].price = spot.data.price;\n            this.coinPriceLatest[ii].date = spot.headers.date;\n          })\n          .catch(error => {\n            console.log(\n              'binance exchange error ' + ticker.coin + ' ' + error.message,\n            );\n          });\n      } else if (ticker.exchange === 'huobipro') {\n        // e.g. {\"status\":\"ok\",\"ch\":\"market.htusdt.trade.detail\",\"ts\":1584882667562,\"data\":[{\"id\":100855760426,\"ts\":1584882665766,\"data\":[{\"amount\":2.350000000000000000,\"trade-id\":100294501902,\"ts\":1584882665766,\"id\":10085576042676410392266,\"price\":3.233000000000000000,\"direction\":\"sell\"}]}]}\n        await axios\n          .get(ticker.url)\n          .then(spot => {\n            // console.log(ticker.exchange);\n            // console.log(ticker.coin);\n            // console.log(ticker.base);\n            // console.log(spot.headers.date);\n            // console.log(spot.data.data[0].data[0].price + '\\n\\n');\n            this.coinPriceLatest[ii].price = spot.data.data[0].data[0].price;\n            this.coinPriceLatest[ii].date = spot.headers.date;\n          })\n          .catch(error => {\n            // console.log(\n            //   'huobipro exchange error ' + ticker.coin + ' ' + error.message,\n            // );\n          });\n      }\n    }\n  };\n}\n\nexport default Coins;\n",{"ruleId":"29","replacedBy":"30"},{"ruleId":"31","replacedBy":"32"},{"ruleId":"33","severity":1,"message":"34","line":19,"column":26,"nodeType":"35","messageId":"36","endLine":19,"endColumn":28},{"ruleId":"33","severity":1,"message":"34","line":21,"column":32,"nodeType":"35","messageId":"36","endLine":21,"endColumn":34},{"ruleId":"33","severity":1,"message":"34","line":23,"column":32,"nodeType":"35","messageId":"36","endLine":23,"endColumn":34},{"ruleId":"37","severity":1,"message":"38","line":5,"column":1,"nodeType":"39","messageId":"40","endLine":5,"endColumn":14,"fix":"41"},{"ruleId":"42","severity":1,"message":"43","line":70,"column":17,"nodeType":"44","messageId":"45","endLine":80,"endColumn":12},{"ruleId":"42","severity":1,"message":"46","line":81,"column":18,"nodeType":"44","messageId":"45","endLine":85,"endColumn":12},{"ruleId":"42","severity":1,"message":"47","line":90,"column":17,"nodeType":"44","messageId":"45","endLine":98,"endColumn":12},"no-native-reassign",["48"],"no-negated-in-lhs",["49"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","strict","'use strict' is unnecessary inside of modules.","ExpressionStatement","module",{"range":"50","text":"51"},"no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'ticker', 'ticker', 'ii', 'ii'.","ArrowFunctionExpression","unsafeRefs","Function declared in a loop contains unsafe references to variable(s) 'ticker'.","Function declared in a loop contains unsafe references to variable(s) 'ii', 'ii'.","no-global-assign","no-unsafe-negation",[53,66],""]